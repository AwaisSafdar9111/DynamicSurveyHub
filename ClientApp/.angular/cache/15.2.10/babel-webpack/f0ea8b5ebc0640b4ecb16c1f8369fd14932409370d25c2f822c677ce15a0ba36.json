{"ast":null,"code":"import { ReactiveFormsModule } from '@angular/forms';\nimport { Subject, takeUntil } from 'rxjs';\nimport { environment } from '../../../environments/environment';\nimport { CommonModule } from '@angular/common';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatSelectModule } from '@angular/material/select';\nimport { MatRadioModule } from '@angular/material/radio';\nimport { MatCheckboxModule } from '@angular/material/checkbox';\nimport { MatDatepickerModule } from '@angular/material/datepicker';\nimport { MatNativeDateModule } from '@angular/material/core';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatIconModule } from '@angular/material/icon';\nimport { MatProgressSpinnerModule } from '@angular/material/progress-spinner';\nimport { ConditionalControlDirective } from './conditional-control.directive';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"@angular/common/http\";\nimport * as i3 from \"@angular/forms\";\nimport * as i4 from \"../../shared/services/conditional-logic.service\";\nimport * as i5 from \"@angular/common\";\nimport * as i6 from \"@angular/material/form-field\";\nimport * as i7 from \"@angular/material/input\";\nimport * as i8 from \"@angular/material/select\";\nimport * as i9 from \"@angular/material/core\";\nimport * as i10 from \"@angular/material/radio\";\nimport * as i11 from \"@angular/material/checkbox\";\nimport * as i12 from \"@angular/material/datepicker\";\nimport * as i13 from \"@angular/material/button\";\nimport * as i14 from \"@angular/material/icon\";\nimport * as i15 from \"@angular/material/progress-spinner\";\nfunction FormPreviewComponent_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵelement(1, \"mat-spinner\", 5);\n    i0.ɵɵelementStart(2, \"p\");\n    i0.ɵɵtext(3, \"Loading form...\");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction FormPreviewComponent_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 6)(1, \"mat-icon\");\n    i0.ɵɵtext(2, \"error\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r1.error);\n  }\n}\nfunction FormPreviewComponent_div_3_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(ctx_r3.form.description);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_p_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"p\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r5 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(section_r5.description);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_2_mat_hint_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 23);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_2_mat_hint_4_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"placeholder\", (control_r9.properties == null ? null : control_r9.properties.placeholder) || \"\")(\"required\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_3_mat_hint_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"textarea\", 24);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_3_mat_hint_4_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"placeholder\", (control_r9.properties == null ? null : control_r9.properties.placeholder) || \"\")(\"required\", control_r9.required)(\"rows\", (control_r9.properties == null ? null : control_r9.properties.rows) || 3);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_4_mat_hint_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 25);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_4_mat_hint_4_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"placeholder\", (control_r9.properties == null ? null : control_r9.properties.placeholder) || \"\")(\"required\", control_r9.required)(\"min\", control_r9.properties == null ? null : control_r9.properties.min)(\"max\", control_r9.properties == null ? null : control_r9.properties.max)(\"step\", (control_r9.properties == null ? null : control_r9.properties.step) || 1);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_5_mat_hint_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 26);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_5_mat_hint_4_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"placeholder\", (control_r9.properties == null ? null : control_r9.properties.placeholder) || \"\")(\"required\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_6_mat_hint_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 27)(4, \"mat-datepicker-toggle\", 28)(5, \"mat-datepicker\", null, 29);\n    i0.ɵɵtemplate(7, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_6_mat_hint_7_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const _r31 = i0.ɵɵreference(6);\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"matDatepicker\", _r31)(\"formControlName\", \"control_\" + control_r9.id)(\"required\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"for\", _r31);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_mat_option_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-option\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r37 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r37.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r37.label, \" \");\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_mat_hint_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"mat-select\", 30);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_mat_option_4_Template, 2, 2, \"mat-option\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_mat_hint_5_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"required\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", control_r9.properties == null ? null : control_r9.properties.options);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_8_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 37);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_8_mat_radio_button_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-radio-button\", 32);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const option_r43 = ctx.$implicit;\n    i0.ɵɵproperty(\"value\", option_r43.value);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", option_r43.label, \" \");\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_8_mat_hint_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"label\", 34);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, FormPreviewComponent_div_3_div_6_div_5_div_8_span_3_Template, 2, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"mat-radio-group\", 36);\n    i0.ɵɵtemplate(5, FormPreviewComponent_div_3_div_6_div_5_div_8_mat_radio_button_5_Template, 2, 2, \"mat-radio-button\", 31);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(6, FormPreviewComponent_div_3_div_6_div_5_div_8_mat_hint_6_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", control_r9.label, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", control_r9.properties == null ? null : control_r9.properties.options);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_9_span_3_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 37);\n    i0.ɵɵtext(1, \"*\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_9_mat_hint_7_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 38)(1, \"label\", 34);\n    i0.ɵɵtext(2);\n    i0.ɵɵtemplate(3, FormPreviewComponent_div_3_div_6_div_5_div_9_span_3_Template, 2, 0, \"span\", 35);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"div\", 39)(5, \"mat-checkbox\", 40);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(7, FormPreviewComponent_div_3_div_6_div_5_div_9_mat_hint_7_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\"\", control_r9.label, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.required);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate1(\" \", (control_r9.properties == null ? null : control_r9.properties.label) || \"\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_10_mat_hint_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-hint\");\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext(2).$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_mat_form_field_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"mat-form-field\", 22)(1, \"mat-label\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(3, \"input\", 23);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_10_mat_hint_4_Template, 2, 1, \"mat-hint\", 3);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const control_r9 = i0.ɵɵnextContext().$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(control_r9.label);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formControlName\", \"control_\" + control_r9.id)(\"placeholder\", (control_r9.properties == null ? null : control_r9.properties.placeholder) || \"\")(\"required\", control_r9.required);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", control_r9.properties == null ? null : control_r9.properties.hint);\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_div_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 16)(1, \"div\", 17);\n    i0.ɵɵtemplate(2, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_2_Template, 5, 5, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(3, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_3_Template, 5, 6, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_4_Template, 5, 8, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(5, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_5_Template, 5, 5, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(6, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_6_Template, 8, 6, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(7, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_7_Template, 6, 5, \"mat-form-field\", 18);\n    i0.ɵɵtemplate(8, FormPreviewComponent_div_3_div_6_div_5_div_8_Template, 7, 5, \"div\", 19);\n    i0.ɵɵtemplate(9, FormPreviewComponent_div_3_div_6_div_5_div_9_Template, 8, 5, \"div\", 20);\n    i0.ɵɵtemplate(10, FormPreviewComponent_div_3_div_6_div_5_mat_form_field_10_Template, 5, 5, \"mat-form-field\", 21);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const control_r9 = ctx.$implicit;\n    i0.ɵɵproperty(\"controlId\", control_r9.id);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitch\", control_r9.control_type);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"text\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"textarea\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"number\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"email\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"date\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"select\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"radio\");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngSwitchCase\", \"checkbox\");\n  }\n}\nfunction FormPreviewComponent_div_3_div_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13)(1, \"div\", 14)(2, \"h2\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_div_6_p_4_Template, 2, 1, \"p\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(5, FormPreviewComponent_div_3_div_6_div_5_Template, 11, 10, \"div\", 15);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const section_r5 = ctx.$implicit;\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(section_r5.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", section_r5.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", section_r5.controls);\n  }\n}\nfunction FormPreviewComponent_div_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r54 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"div\")(1, \"header\", 7)(2, \"h1\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtemplate(4, FormPreviewComponent_div_3_p_4_Template, 2, 1, \"p\", 3);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"form\", 8);\n    i0.ɵɵlistener(\"ngSubmit\", function FormPreviewComponent_div_3_Template_form_ngSubmit_5_listener() {\n      i0.ɵɵrestoreView(_r54);\n      const ctx_r53 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r53.onSubmit());\n    });\n    i0.ɵɵtemplate(6, FormPreviewComponent_div_3_div_6_Template, 6, 3, \"div\", 9);\n    i0.ɵɵelementStart(7, \"div\", 10)(8, \"button\", 11);\n    i0.ɵɵtext(9, \"Cancel\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"button\", 12);\n    i0.ɵɵtext(11, \"Submit\");\n    i0.ɵɵelementEnd()()()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(ctx_r2.form.title);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r2.form.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"formGroup\", ctx_r2.formGroup);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r2.form.sections);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"disabled\", ctx_r2.formGroup.invalid);\n  }\n}\nexport class FormPreviewComponent {\n  route;\n  http;\n  fb;\n  conditionalLogicService;\n  form;\n  formGroup;\n  loading = true;\n  error = null;\n  apiUrl = `${environment.apiUrl}/api/forms`;\n  destroy$ = new Subject();\n  controlValues = {};\n  constructor(route, http, fb, conditionalLogicService) {\n    this.route = route;\n    this.http = http;\n    this.fb = fb;\n    this.conditionalLogicService = conditionalLogicService;\n  }\n  ngOnInit() {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe(params => {\n      const formId = +params['id'];\n      if (formId) {\n        this.loadForm(formId);\n      } else {\n        this.error = 'No form ID provided';\n        this.loading = false;\n      }\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  loadForm(formId) {\n    this.loading = true;\n    this.http.get(`${this.apiUrl}/${formId}`).pipe(takeUntil(this.destroy$)).subscribe({\n      next: form => {\n        this.form = form;\n        this.initFormGroup();\n        this.loading = false;\n      },\n      error: err => {\n        console.error('Error loading form:', err);\n        this.error = 'Failed to load form. Please try again later.';\n        this.loading = false;\n      }\n    });\n  }\n  initFormGroup() {\n    const group = {};\n    // Create form controls for each control in each section\n    this.form.sections.forEach(section => {\n      section.controls.forEach(control => {\n        // Initialize with default value if any\n        const defaultValue = control.properties?.defaultValue || '';\n        group[`control_${control.id}`] = this.fb.control(defaultValue);\n      });\n    });\n    this.formGroup = this.fb.group(group);\n    // Subscribe to value changes to evaluate conditional logic\n    this.formGroup.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(values => {\n      // Convert the form values to a map of control IDs to values\n      const controlValues = {};\n      Object.keys(values).forEach(key => {\n        if (key.startsWith('control_')) {\n          const controlId = parseInt(key.replace('control_', ''));\n          controlValues[controlId] = values[key];\n        }\n      });\n      this.controlValues = controlValues;\n      // Evaluate conditional logic based on the current values\n      this.conditionalLogicService.evaluateFormConditions(this.form.id, controlValues);\n    });\n    // Trigger initial evaluation\n    this.conditionalLogicService.evaluateFormConditions(this.form.id, this.controlValues);\n  }\n  onSubmit() {\n    if (this.formGroup.valid) {\n      const formValues = this.formGroup.value;\n      const submission = {\n        formId: this.form.id,\n        data: {}\n      };\n      // Process form values\n      Object.keys(formValues).forEach(key => {\n        if (key.startsWith('control_')) {\n          const controlId = parseInt(key.replace('control_', ''));\n          submission.data[controlId] = formValues[key];\n        }\n      });\n      // Submit form data\n      this.http.post(`${this.apiUrl}/${this.form.id}/submissions`, submission).pipe(takeUntil(this.destroy$)).subscribe({\n        next: response => {\n          console.log('Form submitted successfully:', response);\n          // Reset form\n          this.formGroup.reset();\n          // TODO: Show success message\n        },\n        error: err => {\n          console.error('Error submitting form:', err);\n          // TODO: Show error message\n        }\n      });\n    }\n  }\n  // Helper method to get control type\n  getControlType(type) {\n    switch (type) {\n      case 'text':\n      case 'email':\n      case 'number':\n      case 'date':\n      case 'tel':\n      case 'url':\n        return 'input';\n      case 'textarea':\n        return 'textarea';\n      case 'radio':\n        return 'radio';\n      case 'checkbox':\n        return 'checkbox';\n      case 'select':\n        return 'select';\n      default:\n        return 'input';\n    }\n  }\n  static ɵfac = function FormPreviewComponent_Factory(t) {\n    return new (t || FormPreviewComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.HttpClient), i0.ɵɵdirectiveInject(i3.FormBuilder), i0.ɵɵdirectiveInject(i4.ConditionalLogicService));\n  };\n  static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: FormPreviewComponent,\n    selectors: [[\"app-form-preview\"]],\n    standalone: true,\n    features: [i0.ɵɵStandaloneFeature],\n    decls: 4,\n    vars: 3,\n    consts: [[1, \"form-preview-container\"], [\"class\", \"loading\", 4, \"ngIf\"], [\"class\", \"error-message\", 4, \"ngIf\"], [4, \"ngIf\"], [1, \"loading\"], [\"diameter\", \"50\"], [1, \"error-message\"], [1, \"form-header\"], [3, \"formGroup\", \"ngSubmit\"], [\"class\", \"form-section\", 4, \"ngFor\", \"ngForOf\"], [1, \"form-actions\"], [\"mat-button\", \"\", \"type\", \"button\"], [\"mat-raised-button\", \"\", \"color\", \"primary\", \"type\", \"submit\", 3, \"disabled\"], [1, \"form-section\"], [1, \"section-header\"], [\"class\", \"form-control-wrapper\", \"appConditionalControl\", \"\", 3, \"controlId\", 4, \"ngFor\", \"ngForOf\"], [\"appConditionalControl\", \"\", 1, \"form-control-wrapper\", 3, \"controlId\"], [3, \"ngSwitch\"], [\"appearance\", \"outline\", \"class\", \"full-width\", 4, \"ngSwitchCase\"], [\"class\", \"radio-group-field\", 4, \"ngSwitchCase\"], [\"class\", \"checkbox-field\", 4, \"ngSwitchCase\"], [\"appearance\", \"outline\", \"class\", \"full-width\", 4, \"ngSwitchDefault\"], [\"appearance\", \"outline\", 1, \"full-width\"], [\"matInput\", \"\", 3, \"formControlName\", \"placeholder\", \"required\"], [\"matInput\", \"\", 3, \"formControlName\", \"placeholder\", \"required\", \"rows\"], [\"matInput\", \"\", \"type\", \"number\", 3, \"formControlName\", \"placeholder\", \"required\", \"min\", \"max\", \"step\"], [\"matInput\", \"\", \"type\", \"email\", 3, \"formControlName\", \"placeholder\", \"required\"], [\"matInput\", \"\", 3, \"matDatepicker\", \"formControlName\", \"required\"], [\"matSuffix\", \"\", 3, \"for\"], [\"picker\", \"\"], [3, \"formControlName\", \"required\"], [3, \"value\", 4, \"ngFor\", \"ngForOf\"], [3, \"value\"], [1, \"radio-group-field\"], [1, \"control-label\"], [\"class\", \"required-mark\", 4, \"ngIf\"], [1, \"radio-group\", 3, \"formControlName\"], [1, \"required-mark\"], [1, \"checkbox-field\"], [1, \"checkbox-group\"], [3, \"formControlName\"]],\n    template: function FormPreviewComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0);\n        i0.ɵɵtemplate(1, FormPreviewComponent_div_1_Template, 4, 0, \"div\", 1);\n        i0.ɵɵtemplate(2, FormPreviewComponent_div_2_Template, 5, 1, \"div\", 2);\n        i0.ɵɵtemplate(3, FormPreviewComponent_div_3_Template, 12, 5, \"div\", 3);\n        i0.ɵɵelementEnd();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.loading);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", ctx.error);\n        i0.ɵɵadvance(1);\n        i0.ɵɵproperty(\"ngIf\", !ctx.loading && !ctx.error && ctx.form);\n      }\n    },\n    dependencies: [CommonModule, i5.NgForOf, i5.NgIf, i5.NgSwitch, i5.NgSwitchCase, i5.NgSwitchDefault, ReactiveFormsModule, i3.ɵNgNoValidate, i3.DefaultValueAccessor, i3.NumberValueAccessor, i3.NgControlStatus, i3.NgControlStatusGroup, i3.RequiredValidator, i3.MinValidator, i3.MaxValidator, i3.FormGroupDirective, i3.FormControlName, MatFormFieldModule, i6.MatFormField, i6.MatLabel, i6.MatHint, i6.MatSuffix, MatInputModule, i7.MatInput, MatSelectModule, i8.MatSelect, i9.MatOption, MatRadioModule, i10.MatRadioGroup, i10.MatRadioButton, MatCheckboxModule, i11.MatCheckbox, MatDatepickerModule, i12.MatDatepicker, i12.MatDatepickerInput, i12.MatDatepickerToggle, MatNativeDateModule, MatButtonModule, i13.MatButton, MatIconModule, i14.MatIcon, MatProgressSpinnerModule, i15.MatProgressSpinner, ConditionalControlDirective],\n    styles: [\".form-preview-container[_ngcontent-%COMP%] {\\n  max-width: 800px;\\n  margin: 0 auto;\\n  padding: 20px;\\n}\\n\\n.loading[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n  padding: 50px 0;\\n}\\n\\n.error-message[_ngcontent-%COMP%] {\\n  display: flex;\\n  align-items: center;\\n  background-color: #ffebee;\\n  border: 1px solid #f44336;\\n  padding: 16px;\\n  border-radius: 4px;\\n  margin: 20px 0;\\n}\\n.error-message[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\\n  color: #f44336;\\n  margin-right: 12px;\\n}\\n\\n.form-header[_ngcontent-%COMP%] {\\n  margin-bottom: 24px;\\n}\\n.form-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%] {\\n  font-size: 24px;\\n  margin-bottom: 8px;\\n}\\n\\n.form-section[_ngcontent-%COMP%] {\\n  margin-bottom: 32px;\\n  padding: 16px;\\n  border-radius: 4px;\\n  background-color: #f9f9f9;\\n}\\n.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n.form-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%] {\\n  font-size: 18px;\\n  margin-bottom: 8px;\\n}\\n\\n.form-control-wrapper[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n\\n.radio-group-field[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%] {\\n  margin-bottom: 16px;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   .control-label[_ngcontent-%COMP%] {\\n  display: block;\\n  margin-bottom: 8px;\\n  font-weight: 500;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   .required-mark[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   .required-mark[_ngcontent-%COMP%] {\\n  color: #f44336;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%] {\\n  display: flex;\\n  flex-direction: column;\\n  margin-bottom: 8px;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   .radio-group[_ngcontent-%COMP%]   mat-radio-button[_ngcontent-%COMP%] {\\n  margin: 4px 0;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   .checkbox-group[_ngcontent-%COMP%] {\\n  margin-bottom: 8px;\\n}\\n.radio-group-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%], .checkbox-field[_ngcontent-%COMP%]   mat-hint[_ngcontent-%COMP%] {\\n  font-size: 12px;\\n  color: rgba(0, 0, 0, 0.6);\\n}\\n\\n.full-width[_ngcontent-%COMP%] {\\n  width: 100%;\\n}\\n\\n.form-actions[_ngcontent-%COMP%] {\\n  margin-top: 24px;\\n  display: flex;\\n  justify-content: flex-end;\\n}\\n.form-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\\n  margin-left: 8px;\\n}\"]\n  });\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}